<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>형변환</title>
</head>
<body>
    <h1>형변환</h1>

    <button onclick="test1()">산술/비교연산</button>
    <button onclick="test2();">숫자로 형변환</button>
    <input type="number" name="x" id="x">

    <fieldset>
        <legend>두 수의 합 구하기</legend>
        <input type="number" name="nums" id="num1" placeholder="num1">
        <input type="number" name="nums" id="num2" placeholder="num2">
        <input type="button" value="계산" onclick="test3();">
    </fieldset>
    <script>
        /**
         * #num1 #num2 사용자입력값의 합을 경고창에 출력
         *  - 두 input태그에 모두 값이 입력되지 않은 경우 알림처리 "수를 먼저 입력하세요."
         *  - 계산후 입력값 삭제처리
         */
        function test3(){
            const num1Val = num1.value;
            const num2Val = num2.value;

            // 모두 값 입력되지 않은 경우
            if(!num1Val || !num2Val){
                alert("수를 먼저 입력하세요.");
                return; // 조기리턴 - 이하 코드 실행하지 않고 중단
            }
            alert(`입력하신 두 수의 합은 ${Number(num1Val) + Number(num2Val)} 입니다.`);

            // 초기화
            num1.value = "";
            num2.value = "";
        }

        /**
         * 숫자로 형변환
         *  - Number() : 숫자로 형변환. 변환불가문자가 포함된 경우 NaN 리턴.
         *  - parseInt() : 정수로 형변환. 변환불가문자 이전까지 변환하여 정수 리턴.
         *  - parseFloat() : 실수로 형변환. 변환불가문자 이전까지 변환하여 실수 리턴.
         */
        function test2(){
            const n = "123.456";
            console.log(typeof n, n); // string 123.456

            console.log(typeof Number(n), Number(n)); // number 123.456
            console.log(typeof parseInt(n), parseInt(n)); // number 123
            console.log(typeof parseFloat(n), parseFloat(n)); // number 123.456

            const m = "123.456원";
            console.log(typeof Number(m), Number(m)); // number NaN
            console.log(typeof parseInt(m), parseInt(m)); // number 123
            console.log(typeof parseFloat(m), parseFloat(m)); // number 123.456

            const o = "￦123.456원";
            console.log(typeof Number(o), Number(o)); // number NaN
            console.log(typeof parseInt(o), parseInt(o)); // number NaN
            console.log(typeof parseFloat(o), parseFloat(o)); // number NaN

            console.log(typeof x.value, x.value);
        }
        /**
         * 산술연산, 비교연산 간의 형변환
         */
        function test1(){
            // console.log(typeof(3 + "3"), 3 + "3"); // string 33

            // console.log(typeof(3 - "3"), 3 - "3"); // number 0
            // console.log(typeof(3 * "3"), 3 * "3"); // number 9
            // console.log(typeof(3 / "3"), 3 / "3"); // number 1
            // console.log(typeof(3 % "3"), 3 % "3"); // number 0
            
            // console.log(typeof(3 - "a"), 3 - "a"); // number NaN -> Not a Number

            console.log(typeof(3 == "3"), 3 == "3"); // boolean true
            console.log(typeof(3 != "3"), 3 != "3"); // boolean false
            
            // 엄격비교연산자 ===와 !==
            // === 타입과 값이 모두 일치해야 true
            // !== 타입 혹은 값이 달라야 true
            console.log(typeof(3 === "3"), 3 === "3"); // boolean false
            console.log(typeof(3 !== "3"), 3 !== "3"); // boolean true
        }
    </script>

    <button onclick="test4();">논리형으로 형변환</button>
    <script>
        /**
         * 논리형으로 형변환
         *  - 값이  있는 것은 true로 변환
         *  - 값이 없는 것은 false로 변환
         * 
         *  - Boolean(), !!(변수/값) 확인
         */
        function test4(){
            // 값이 있는 경우
            console.log(Boolean(123)); // true
            console.log(Boolean(-123)); // true
            console.log(Boolean(5.5)); // true
            console.log(Boolean("헤이")); // true

            console.log(Boolean(!!123)); // true
            console.log(Boolean(!!{})); // true
            console.log(Boolean(!![])); // true

            // 값이 없는 경우
            console.log(Boolean(0)); // false
            console.log(Boolean(0.0)); // false
            console.log(Boolean("")); // false
            console.log(Boolean('')); // false
            console.log(Boolean(undefined)); // false
            console.log(Boolean(null)); // false
            console.log(Boolean(NaN)); // false
            console.log(Boolean([].length)); // false : 빈 배열의 길이는 0

            const arr = [];
            if(arr.length){ 
                // 배열의 요소가 있을 때 
            }
            else{ 
                // 배열의 요소가 없을 때 
            }
        }
    </script>

</body>
</html>